<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <script type="text/javascript" src="./script/jquery-1.8.3.min.js"></script>
  <script src="./player/jwplayer.js" type="text/javascript"></script>
  <script type="text/javascript">
    var lightState = true;

    function onIdle1() {
      alert("onIdle1");
    }

    function onPlayerExpandCollapse() {
      if(jwplayer("myvideo").getWidth() <= 640){
        onPlayerExpand();
      }else{
        onPlayerCollapse();
      }
    }
    
    function onPlayerExpand() {
      jwplayer('myvideo').resize(960,540);
      //jwplayer('myvideo').resize(640,360);
      //showControls();
    }
    
    function onPlayerCollapse() {
      jwplayer('myvideo').resize(640,360);
      //jwplayer('myvideo').resize(300,168);
      //hiddenControls();
    }


    function showControls() {
      jwplayer('myvideo').setControls(true);
    }
    
    function hiddenControls() {
      jwplayer('myvideo').setControls(false);
    }


    function onPlayerOnOffTheLight() {
      if(lightState){
        lightState = false;
        onPlayerTurnOffTheLight();
      }else{
        lightState = true;
        onPlayerTurnOnTheLight();
      }
    }
    
    function onPlayerTurnOffTheLight() {
      alert("onPlayerTurn  OFF  TheLight");
    }

    function onPlayerTurnOnTheLight() {
      alert("onPlayerTurn  ON  TheLight");
    }
    
    var primaryCookie = 'html5';
    var onMode = 'onsite';
    var cookies = document.cookie.split(";");
    for (i=0; i < cookies.length; i++) {
        var x = cookies[i].substr(0, cookies[i].indexOf("="));
        var y = cookies[i].substr(cookies[i].indexOf("=") + 1);
        x = x.replace(/^\s+|\s+$/g,"");
        if (x == 'primaryCookie') {
            primaryCookie = y;
        } else if (x == 'onMode') {
            onMode = y;
        }
    }
  </script>
</head>
<body style="margin:0">
  <center>
    <h3 style=''>Clip liên quan, Phim liên quan, Phim liên quan dạng Poster</h3>
    <div id='myvideo'></div><br/>
    <br/><br/>
    <input type="Button" onclick="switchOnsite();" value="test thử chế độ onSite">
    <input type="Button" onclick="switchEmbed();" value="test thử chế độ Embed (iFrame)">
    <br/><br/>
    <!--iframe width="640" height="360" src="http://clip.vn/embed/RG4T" frameborder="0" allowfullscreen></iframe-->
  </center>
  <script type='text/javascript'>
    jwplayer('myvideo').setup({
      width: '640',
      height: '360',
      //file: "./QuangDai.mp4",
      //file: "http://video-js.zencoder.com/oceans-clip.mp4",
      /*sources: [
        { file: './QuangDai.mp4', label: '720p HD' },
        { file: './QuangDai.mp4', label: '480p' },
        { file: './QuangDai.mp4', label: '360p' }
      ],*/
	  /*sources: [
        { file: 'http://video-js.zencoder.com/oceans-clip.mp4', label: '720p HD' },
        { file: 'http://video-js.zencoder.com/oceans-clip.mp4', label: '480p' },
        { file: 'http://video-js.zencoder.com/oceans-clip.mp4', label: '360p' }
      ],*/
	  sources: [
        { file: 'http://video-js.zencoder.com/oceans-clip.mp4?q=2', label: '720p HD' },
        { file: 'http://video-js.zencoder.com/oceans-clip.mp4', label: '480p' },
        { file: 'http://video-js.zencoder.com/oceans-clip.webm', label: '480p' }
      ],
	  //file: 'http://video-js.zencoder.com/oceans-clip.mp4',
	  /*sources: [
        { file: 'http://video-js.zencoder.com/oceans-clip.mp4', label: '480p' }
      ],*/
      //'file': 'http://clip.vn/hls/0/0/60/1982056.m3u8?media=40&profiles=2',
      //file: "./assets/sub.mp4",
      tracks: [
        //{ file: "./assets/captions.vtt", kind: "captions", label: "Tiếng Anh", "default": true },
        { file: "./assets/captions.vtt", kind: "captions", label: "Tiếng nước ngoài" }
      ],
      captions: {
        back: false,
        //windowOpacity: 50,
        color: '#e67e22',
        fontsize: 22
      },
      //startparam: "start",
      autostart: true,
      //repeat: true,
      image: './assets/khanh%20ly.jpg',
      mode: onMode,		//onsite embed iframe whitelist
      
      clipid: 'RG4T',
      
      name: "Taylor Swift diện nội y hát ''Blank Space'' cực sung trên sân khấu Victoria's Secret",
      //name: "Happy Fathers Day 2011! How to Paint Sunflowers in Sumi Ink and Chinese Watercolor Victoria's Secret Happy Fathers Day 2011! How to Paint Sunflowers in Sumi Ink and Chinese Watercolor Victoria's Secret Happy Fathers Day 2011! How to Paint Sunflowers in Sumi Ink and Chinese Watercolor Victoria's Secret ",
      
      link: "http://clip.vn/watch/Taylor-Swift-dien-noi-y-hat-Blank-Space-cuc-sung-tren-san-khau-Victoria-s-Secret,R3iR",
      //link: "http://clip.vn/watch/Taylor-Swift-dien-noi-y-hat-Blank-Space-cuc-sung-tren-san-khau-Victoria-s-Secret,R3iR?pl_id=308983",
      
      //info: "Năm nay, cựu công chúa nhạc Đồng quê quay lại với hit mới nhất ''Blank Space''. Đứng giữa dàn siêu mẫu của Victoria's Secret, lần này Taylor Swift cũng khoác lên mình bộ nội y kèm áo choàng cực gợi cảm.",
      info: "(Theo Th\u00e0nh ph\u1ed1 h\u00f4m nay) - *Nguy\u00ean li\u1ec7u:\x3Cbr \x2F\x3E\n- 400g s\u01b0\u1eddn\x3Cbr \x2F\x3E\n- 2 g\u00f3i c\u00e0 ph\u00ea b\u1ed9t\x3Cbr \x2F\x3E\n- V\u1eebng v\u00e0ng\x3Cbr \x2F\x3E\n- S\u1ed1t c\u00e0 chua\x3Cbr \x2F\x3E\n- B\u1ed9t b\u1eafp\x3Cbr \x2F\x3E\n- D\u01b0a chu\u1ed9t, c\u00e0 r\u1ed1t, x\u00e0 l\u00e1ch\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n*C\u00e1ch l\u00e0m:\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- S\u01b0\u1eddn r\u1eeda s\u1ea1ch, ch\u1eb7t mi\u1ebfng nh\u1ecf c\u1ee1 bao di\u00eam.\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- \u01af\u1edbp s\u01b0\u1eddn v\u1edbi m\u1ed9t \u00edt mu\u1ed1i v\u00e0 \u0111\u01b0\u1eddng trong v\u00f2ng 30 ph\u00fat cho ng\u1ea5m.\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- Tr\u1ed9n \u0111\u1ec1u b\u1ed9t c\u00e0 ph\u00ea v\u1edbi n\u01b0\u1edbc n\u00f3ng, 1\x2F2 th\u00eca \u0111\u01b0\u1eddng, 1 th\u00eca b\u1ed9t b\u1eafp, 1 th\u00eca mu\u1ed1i c\u00f9ng n\u01b0\u1edbc s\u1ed1t c\u00e0 chua cho v\u1eeba mi\u1ec7ng.\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- Sau \u0111\u00f3, \u0111un s\u00f4i nh\u1ecf l\u1eeda n\u01b0\u1edbc s\u1ed1t c\u00e0 ph\u00ea \u0111\u1ebfn khi n\u01b0\u1edbc s\u1ed1t s\u00e1nh l\u1ea1i.\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- G\u1ecdt v\u1ecf c\u00e0 r\u1ed1t v\u00e0 d\u01b0a chu\u1ed9t r\u1ed3i th\u00e1i nh\u1ecf.\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- \u01af\u1edbp c\u00e0 r\u1ed1t, d\u01b0a chu\u1ed9t v\u1edbi \u0111\u01b0\u1eddng, gi\u1ea5m, mu\u1ed1i cho v\u1eeba \u0103n \u1edf 2 b\u00e1t ri\u00eang bi\u1ec7t.\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\nCh\u00fa \u00fd: V\u00ec c\u00e0 r\u1ed1t l\u00e2u ng\u1ea5m n\u00ean th\u00e1i xong ch\u00fang m\u00ecnh \u01b0\u1edbp lu\u00f4n nh\u00e9!\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\n- L\u00e0m n\u00f3ng l\u00f2 trong 10 ph\u00fat \u1edf 200 \u0111\u1ed9 C. Sau \u0111\u00f3 n\u01b0\u1edbng ph\u1ea7n s\u01b0\u1eddn sau khi \u0111\u00e3 \u01b0\u1edbp \u1edf nhi\u1ec7t \u0111\u1ed9 170 \u0111\u1ed9 trong 30 ph\u00fat. Ho\u1ea1c d\u00f9ng b\u1ebfp n\u01b0\u1edbng than hoa th\u00ec c\u00e0ng ngon\x3Cbr \x2F\x3E\n\x3Cbr \x2F\x3E\nSau \u0111\u00f3 m\u00ecnh l\u1ea5y s\u01b0\u1eddn ra chi\u00ean \u0111\u1ec1u v\u1edbi n\u01b0\u1edbc s\u1ed1t c\u00e0 ph\u00ea, \u0111un t\u1edbi khi s\u1ed1t ng\u1ea5m h\u1ebft v\u00e0o s\u01b0\u1eddn th\u00ec t\u1eaft b\u1ebfp.\x3Cbr \x2F\x3E\nCu\u1ed1i c\u00f9ng m\u00ecnh tr\u1ed9n \u0111\u1ec1u c\u00e0 r\u1ed1t v\u00e0 d\u01b0a chu\u1ed9t \u0111\u00e3 \u01b0\u1edbp \u1edf tr\u00ean v\u1edbi nhau d\u00f9ng \u0111\u1ec3 \u0103n k\u00e8m v\u1edbi s\u01b0\u1eddn nh\u00e9!",
      
      author: {
        name: "crazy_baby",
        //size: 250,
        size: 75,
        avatar: "assets/6764715.jpg",
        //avatar: "http://cdn.clip.vn/img.user/0/0/1/37195/37195.jpg?ver=1",
        url: "http://clip.vn/user/crazy_baby"
      },
      /*plugins: {
				'./player/ova-6.swf': {
					tag: "http://http.tidaltv.com/admanager/testads/Vast2Linear1.xml"
				}
			},*/
      primary: primaryCookie
      //primary: "flash"
      //primary: "html5"
    });
    jwplayer("myvideo").onReady(function() {
      //this.addButton("assets/episode.png", "Xem tập khác", setError, "button3");
      if(jwplayer("myvideo").getRenderingMode() == "flash") { 
        this.addButton("assets/html5.png", "test thử HTML5 player", switchMode, "button1");
      } else { 
        this.addButton("assets/flash.png", "test thử Flash player", switchMode, "button1");
      }
      this.addButton("assets/error.png", "xem thử một cái Error nó như thế nào", setError, "button2");
    });
    function switchMode() {
      primaryCookie == 'html5' ? primaryCookie = 'flash': primaryCookie = 'html5';
      document.cookie = "primaryCookie=" + primaryCookie;
      window.location.reload();
    };
    function switchMode2() {
      onMode == 'onsite' ? onMode = 'embed': onMode = 'onsite';
      document.cookie = "onMode=" + onMode;
      window.location.reload();
    };
    function switchOnsite() {
      document.cookie = "onMode=" + 'onsite';
      window.location.reload();
    };
    function switchEmbed() {
      document.cookie = "onMode=" + 'embed';
      window.location.reload();
    };
    jwplayer('myvideo').onError(function(message) {
        //alert(".::: onError :::.", message);
        console.log('onError', message);
    });
    jwplayer('myvideo').onComplete(function() {
        if(jwplayer('player').getDuration()-jwplayer('player').getPosition()<1)
        {
            alert(".::: onComplete true :::.");
        }else{
            alert(".::: Oop! Cố lỗi kết lối, vui lòng thử lại :::.");
        }
    });
    function setError() {
      jwplayer("myvideo").load({file:'jwplayer/404.mp4'}).play();
    };
  </script>
</body>
</html>